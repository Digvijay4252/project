<section class="panel">
  <h2>Store Profile</h2>
  <form class="grid" (ngSubmit)="save()">
    <input name="name" [(ngModel)]="form.name" placeholder="Store Name" required />
    <input name="description" [(ngModel)]="form.description" placeholder="Description" />
    <input name="address" [(ngModel)]="form.address" placeholder="Address" required />
    <input name="city" [(ngModel)]="form.city" placeholder="City" required />
    <input name="latitude" [(ngModel)]="form.latitude" type="number" step="0.000001" placeholder="Latitude" required />
    <input name="longitude" [(ngModel)]="form.longitude" type="number" step="0.000001" placeholder="Longitude" required />
    <input name="phone" [(ngModel)]="form.phone" placeholder="Phone" />
    <button type="button" (click)="useCurrentLocation()" [disabled]="locating">
      {{ locating ? 'Fetching location...' : 'Use Current Location' }}
    </button>
    <button type="submit">Save Store</button>
  </form>
  <p>{{ message }}</p>
  <app-map-view
    [latitude]="form.latitude"
    [longitude]="form.longitude"
    (coordinatesChange)="onMapCoordinatesChange($event)">
  </app-map-view>
</section>
